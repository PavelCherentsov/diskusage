# Утилита DiskUsage

Версия 1.0.0

Автор: Черенцов Павел (pavelcherentsov23@gmail.com)

Ревью выполнили: Самунь Виктор Сергеевич


## Описание
DiskUsage - это утилита для оценки занимаемого файлового пространства. 
Показывает размер файлового пространства, занимаемого каждым 
файлом и каталогом в текущем каталоге.

## Требования
* PyFakeFS версии 3.7 (для запуска тестов)

## Состав
* Консольная версия: `du.py`
* Модули: `modules/`
* Тесты: `tests/` 

## Режимы запуска
### Статистика по всем файлам и папкам
Результат выводится в формате:

###### `LEVEL | SIZE | SIZE HISTOGRAM | [ COUNT FILES ] | PATH`, где 
* LEVEL - уровень вложенности файла/папки относительно стартового каталога
* SIZE - размер файла/папки
* SIZE HISTOGRAM - графическое представление размера относительно других файлов/папок
* COUNT FILES - количество файлов и каталогов в каждом каталоге 
* PATH - абсолютный путь файла/папки
##### `--count-files` - Открывает поле `COUNT FILES` (default: скрыто)
### Статистика по расширениям файлов [ --stat-ext ]
Результат выводится в формате:

###### `SIZE | SIZE HISTOGRAM | [ COUNT FILES ] | EXTENSION`, где 
* `SIZE` - размер файла с расширением EXTENSION
* `SIZE HISTOGRAM` - графическое представление размера относительно файлов с другим
расширением
* `COUNT FILES` - количество файлов с расширением EXTENSION
* `EXTENSION` - расширение файла

## Справка по использованию (Ключи общего назначения)
* `--level N`, `-l N` - Выдает статистику по подкаталогам с уровнем вложенности не более N.
* `--sort {name,size,level}` - Сортировка вывода
  * name - Показывает статистику в лексико-графическом порядке путей файлов и папок
  * size - Показывает статистику в убывающем порядке размера файлов и папок
  * level - Показывает статистику в возрастающем порядке уровня вложенности файлов и папок
* `--show-only PATTERN`, `-p PATTERN` - Задает маску файлов/каталогов.
* `--exclude PATTERN`, `-x PATTERN` - Исключает маску файлов/каталогов.


## Подробности реализации
Модули, отвечающие за работу утилиты, расположены в пакете modules.
На данные модули (`modules`) написаны тесты, их можно найти в `tests/`.
Покрытие по строкам составляет около 92%:

    Name                   Stmts   Miss  Cover
    ------------------------------------------
    du.py                     15     15     0%
    modules\diskusage.py      76      2    97%
    tests\test_all.py        131      1    99%
    ------------------------------------------
    TOTAL                    222     18    92%







